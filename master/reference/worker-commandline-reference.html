<!DOCTYPE html> <html lang="en" dir="auto"> <head><meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=no"> <meta name="description" content="Commandline flags of nfd-worker Table of contents -h, -help -version -config -options -server -ca-file -cert-file -key-file -kubeconfig -server-nam..."> <meta name="revised" content=""> <meta name="author" content="Kubernetes SIGs"> <meta name="generator" content="rundocs/jekyll-rtd-theme v2.0.10"><meta name="theme-color" content="#2980b9"> <title>Worker cmdline reference 路 Node Feature Discovery</title> <meta name="twitter:title" content="Worker cmdline reference 路 Node Feature Discovery"> <meta name="twitter:description" content="Commandline flags of nfd-worker Table of contents -h, -help -version -config -options -server -ca-file -cert-file -key-file -kubeconfig -server-nam..."> <meta name="twitter:card" content="summary"> <meta name="twitter:site" content="@Kubernetes SIGs"> <meta name="twitter:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html"> <meta name="twitter:creator" content="@rundocs/jekyll-rtd-theme v2.0.10"> <meta property="og:title" content="Worker cmdline reference 路 Node Feature Discovery"> <meta property="og:description" content="Commandline flags of nfd-worker Table of contents -h, -help -version -config -options -server -ca-file -cert-file -key-file -kubeconfig -server-nam..."> <meta property="og:locale" content="en"> <meta property="og:url" content="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html"> <meta property="og:type" content="article"> <meta property="article:author" content="Kubernetes SIGs"> <meta property="article:published_time" content="2016-07-23T05:07:52+00:00"> <meta property="article:modified_time" content="2024-03-12T17:48:08+00:00"> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "Article", "mainEntityOfPage": { "@type": "WebPage", "@id": "https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html" }, "headline": "Worker cmdline reference 路 Node Feature Discovery", "image": [], "author": { "@type": "Person", "name": "Kubernetes SIGs" }, "datePublished": "2016-07-23T05:07:52+00:00", "dateModified": "2024-03-12T17:48:08+00:00", "publisher": { "@type": "Organization", "name": "Kubernetes SIGs", "logo": { "@type": "ImageObject", "url": "https://avatars.githubusercontent.com/u/36015203?v=4" } }, "description": "Commandline flags of nfd-worker Table of contents -h, -help -version -config -options -server -ca-file -cert-file -key-file -kubeconfig -server-nam..." } </script> <link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="prev" href="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/master-commandline-reference.html"><link rel="next" href="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/master-configuration-reference.html"><link rel="canonical" href="https://kubernetes-sigs.github.com/node-feature-discovery/master/reference/worker-commandline-reference.html"><link rel="icon" type="image/svg+xml" href="/node-feature-discovery/master/assets/images/favicon.svg"><link rel="icon" type="image/png" href="/node-feature-discovery/master/assets/images/favicon-16x16.png" sizes="16x16"> <link rel="icon" type="image/png" href="/node-feature-discovery/master/assets/images/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="/node-feature-discovery/master/assets/images/favicon-96x96.png" sizes="96x96"><link rel="mask-icon" href="/node-feature-discovery/master/assets/images/favicon.svg" color="#2980b9"><link rel="apple-touch-icon" href="/node-feature-discovery/master/assets/images/apple-touch-icon-300x300.jpg"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/css/theme.min.css"><style>@media (min-width: 1280px){.content-wrap{max-width:1200px}}</style><script> window.ui = { title: "Node Feature Discovery", baseurl: "/node-feature-discovery/master", i18n: { search_results: "Search Results", search_results_found: "Search finished, found # page(s) matching the search query.", search_results_not_found: "Your search did not match any documents, please make sure that all characters are spelled correctly!" } }; </script> </head> <body class="container"><div class="sidebar-wrap overflow-hidden"> <div class="sidebar height-full overflow-y-scroll overflow-x-hidden"> <div class="header d-flex flex-column p-3 text-center"> <div class="title pb-1"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/master/" title="Documentation of Node Feature Discovery - a Kubernetes add-on for discovering and advertising hardware features and system configuration in the cluster."> <i class="fa fa-home"></i> Node Feature Discovery </a> </div> <span class="version">master</span> <form class="search pt-2" action="/node-feature-discovery/master/search.html" method="get" autocomplete="off"> <input class="form-control input-block input-sm" type="text" name="q" placeholder="Search docs..."> </form> </div> <div class="toctree py-2" data-spy="affix" role="navigation" aria-label="main navigation"> <ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/get-started/"> Get started </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/get-started/introduction.html">1. Introduction</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/get-started/quick-start.html">2. Quick start</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/deployment/"> Deployment </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/image-variants.html">1. Image variants</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/kustomize.html">2. Kustomize</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/helm.html">3. Helm</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/operator.html">4. NFD Operator</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/tls.html">5. TLS authentication</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/uninstallation.html">6. Uninstallation</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/deployment/metrics.html">7. Metrics</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/usage/"> Usage </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/features.html">1. Feature labels</a> </li> <li class="toc level-1 " data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/using-labels.html">2. Using node labels</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-master.html">3. NFD-Master</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-worker.html">4. NFD-Worker</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-topology-updater.html">5. NFD-Topology-Updater</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/nfd-gc.html">6. NFD-Garbage-Collector</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/custom-resources.html">7. CRDs</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/customization-guide.html">8. Customization guide</a> </li> <li class="toc level-1 " data-sort="9" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/examples-and-demos.html">9. Examples and demos</a> </li> <li class="toc level-1 " data-sort="10" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/usage/kubectl-plugin.html">10. Kubectl plugin</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/reference/"> Reference </a><ul> <li class="toc level-1 " data-sort="1" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/master-commandline-reference.html">1. Master cmdline reference</a> </li> <li class="toc level-1 current" data-sort="2" data-level="1"> <a class="d-flex flex-items-baseline current" href="/node-feature-discovery/master/reference/worker-commandline-reference.html">2. Worker cmdline reference</a> </li> <li class="toc level-1 " data-sort="3" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/master-configuration-reference.html">3. Master config reference</a> </li> <li class="toc level-1 " data-sort="4" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/worker-configuration-reference.html">4. Worker config reference</a> </li> <li class="toc level-1 " data-sort="5" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/topology-updater-commandline-reference.html">5. Topology Updater Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="6" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/topology-updater-configuration-reference.html">6. Topology-Updater config reference</a> </li> <li class="toc level-1 " data-sort="7" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/gc-commandline-reference.html">7. Garbage Collector Cmdline Reference</a> </li> <li class="toc level-1 " data-sort="8" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/plugin-commandline-reference.html">8. Kubectl plugin cmdline reference</a> </li> <li class="toc level-1 " data-sort="9" data-level="1"> <a class="d-flex flex-items-baseline " href="/node-feature-discovery/master/reference/versions.html">9. Versions</a> </li></ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/developer-guide/"> Developer guide </a><ul> </ul> <a class="caption d-block text-uppercase no-wrap px-2 py-0" href="/node-feature-discovery/master/contributing/"> Contributing </a><ul> </ul> </div> </div> </div> <div class="content-wrap"> <div class="header d-flex flex-justify-between p-2 hide-lg hide-xl" aria-label="top navigation"> <button id="toggle" aria-label="Toggle menu" class="btn-octicon p-2 m-0 text-white" type="button"> <i class="fa fa-bars"></i> </button> <div class="title flex-1 d-flex flex-justify-center"> <a class="h4 no-underline py-1 px-2 rounded-1" href="/node-feature-discovery/master/">Node Feature Discovery</a> </div> </div> <div class="content p-3 p-sm-5"> <div class="navigation-top d-flex flex-justify-between"> <ul class="breadcrumb" role="navigation" aria-label="breadcrumbs navigation"> <li class="breadcrumb-item"> <a class="no-underline" href="/node-feature-discovery/master/" title="/"> <i class="fa fa-home"></i> </a> </li><li class="breadcrumb-item" ><a href="/node-feature-discovery/master/reference/">reference</a></li><li class="breadcrumb-item" aria-current="page">worker-commandline-reference.md</li></ul> <a class="edit" href="https://github.com/kubernetes-sigs/node-feature-discovery/edit/gh-pages/reference/worker-commandline-reference.md" title="Edit on GitHub" rel="noreferrer" target="_blank"> <i class="fa fa-edit"></i> </a> </div> <hr> <div role="main" itemscope="itemscope" itemtype="https://schema.org/Article"> <div class="markdown-body" itemprop="articleBody"> <h1 class="no_toc" id="commandline-flags-of-nfd-worker">Commandline flags of nfd-worker</h1> <h2 class="no_toc text-delta" id="table-of-contents">Table of contents</h2> <ol id="markdown-toc"> <li><a href="#-h--help" id="markdown-toc--h--help">-h, -help</a></li> <li><a href="#-version" id="markdown-toc--version">-version</a></li> <li><a href="#-config" id="markdown-toc--config">-config</a></li> <li><a href="#-options" id="markdown-toc--options">-options</a></li> <li><a href="#-server" id="markdown-toc--server">-server</a></li> <li><a href="#-ca-file" id="markdown-toc--ca-file">-ca-file</a></li> <li><a href="#-cert-file" id="markdown-toc--cert-file">-cert-file</a></li> <li><a href="#-key-file" id="markdown-toc--key-file">-key-file</a></li> <li><a href="#-kubeconfig" id="markdown-toc--kubeconfig">-kubeconfig</a></li> <li><a href="#-server-name-override" id="markdown-toc--server-name-override">-server-name-override</a></li> <li><a href="#-feature-sources" id="markdown-toc--feature-sources">-feature-sources</a></li> <li><a href="#-label-sources" id="markdown-toc--label-sources">-label-sources</a></li> <li><a href="#-enable-nodefeature-api" id="markdown-toc--enable-nodefeature-api">-enable-nodefeature-api</a></li> <li><a href="#-metrics" id="markdown-toc--metrics">-metrics</a></li> <li><a href="#-no-publish" id="markdown-toc--no-publish">-no-publish</a></li> <li><a href="#-oneshot" id="markdown-toc--oneshot">-oneshot</a></li> <li><a href="#logging" id="markdown-toc-logging">Logging</a></li> </ol> <hr /> <p>To quickly view available command line flags execute <code class="language-plaintext highlighter-rouge notranslate">nfd-worker -help</code>. In a docker container:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>docker run gcr.io/k8s-staging-nfd/node-feature-discovery:master nfd-worker <span class="nt">-help</span>
</code></pre>  </div></div> <h3 id="-h--help">-h, -help</h3> <p>Print usage and exit.</p> <h3 id="-version">-version</h3> <p>Print version and exit.</p> <h3 id="-config">-config</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-config</code> flag specifies the path of the nfd-worker configuration file to use.</p> <p>Default: /etc/kubernetes/node-feature-discovery/nfd-worker.conf</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-config</span><span class="o">=</span>/opt/nfd/worker.conf
</code></pre>  </div></div> <h3 id="-options">-options</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-options</code> flag may be used to specify and override configuration file options directly from the command line. The required format is the same as in the config file i.e. JSON or YAML. Configuration options specified via this flag will override those from the configuration file:</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-options</span><span class="o">=</span><span class="s1">'{"sources":{"cpu":{"cpuid":{"attributeWhitelist":["AVX","AVX2"]}}}}'</span>
</code></pre>  </div></div> <h3 id="-server">-server</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-server</code> flag specifies the address of the nfd-master endpoint where to connect to.</p> <p>Default: localhost:8080</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-server</span><span class="o">=</span>nfd-master.nfd.svc.cluster.local:443
</code></pre>  </div></div> <h3 id="-ca-file">-ca-file</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> is one of the three flags (together with <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code>) controlling the mutual TLS authentication on the worker side. This flag specifies the TLS root certificate that is used for verifying the authenticity of nfd-master.</p> <p>Default: <em>empty</em></p> <blockquote> <p><strong>NOTE:</strong> Must be specified together with <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code></p> </blockquote> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/worker.crt <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/worker.key
</code></pre>  </div></div> <h3 id="-cert-file">-cert-file</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> is one of the three flags (together with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code>) controlling mutual TLS authentication on the worker side. This flag specifies the TLS certificate presented for authenticating outgoing requests.</p> <p>Default: <em>empty</em></p> <blockquote> <p><strong>NOTE:</strong> Must be specified together with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-key-file</code></p> </blockquote> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-workerr <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/worker.crt <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/worker.key <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt
</code></pre>  </div></div> <h3 id="-key-file">-key-file</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-key-file</code> is one of the three flags (together with <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code>) controlling the mutual TLS authentication on the worker side. This flag specifies the private key corresponding the given certificate file (<code class="language-plaintext highlighter-rouge notranslate">-cert-file</code>) that is used for authenticating outgoing requests.</p> <p>Default: <em>empty</em></p> <blockquote> <p><strong>NOTE:</strong> Must be specified together with <code class="language-plaintext highlighter-rouge notranslate">-cert-file</code> and <code class="language-plaintext highlighter-rouge notranslate">-ca-file</code></p> </blockquote> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-key-file</span><span class="o">=</span>/opt/nfd/worker.key <span class="nt">-cert-file</span><span class="o">=</span>/opt/nfd/worker.crt <span class="nt">-ca-file</span><span class="o">=</span>/opt/nfd/ca.crt
</code></pre>  </div></div> <h3 id="-kubeconfig">-kubeconfig</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-kubeconfig</code> flag specifies the kubeconfig to use for connecting to the Kubernetes API server. It is only needed for manipulating <a href="/node-feature-discovery/master/usage/custom-resources.html#nodefeature">NodeFeature</a> objects, and thus the flag only takes effect when <a href="#-enable-nodefeature-api"><code class="language-plaintext highlighter-rouge notranslate">-enable-nodefeature-api</code></a>) is specified. An empty value (which is also the default) implies in-cluster kubeconfig.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-kubeconfig</span> <span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>/.kube/config
</code></pre>  </div></div> <h3 id="-server-name-override">-server-name-override</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-server-name-override</code> flag specifies the common name (CN) which to expect from the nfd-master TLS certificate. This flag is mostly intended for development and debugging purposes.</p> <p>Default: <em>empty</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-server-name-override</span><span class="o">=</span>localhost
</code></pre>  </div></div> <h3 id="-feature-sources">-feature-sources</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-feature-sources</code> flag specifies a comma-separated list of enabled feature sources. A special value <code class="language-plaintext highlighter-rouge notranslate">all</code> enables all sources. Prefixing a source name with <code class="language-plaintext highlighter-rouge notranslate">-</code> indicates that the source will be disabled instead - this is only meaningful when used in conjunction with <code class="language-plaintext highlighter-rouge notranslate">all</code>. This command line flag allows completely disabling the feature detection so that neither standard feature labels are generated nor the raw feature data is available for custom rule processing. Consider using the <code class="language-plaintext highlighter-rouge notranslate">core.featureSources</code> config file option, instead, allowing dynamic configurability.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <code class="language-plaintext highlighter-rouge notranslate">core.featureSources</code> configuration file option.</p> </blockquote> <p>Default: all</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-feature-sources</span><span class="o">=</span>all,-pci
</code></pre>  </div></div> <h3 id="-label-sources">-label-sources</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-label-sources</code> flag specifies a comma-separated list of enabled label sources. A special value <code class="language-plaintext highlighter-rouge notranslate">all</code> enables all sources. Prefixing a source name with <code class="language-plaintext highlighter-rouge notranslate">-</code> indicates that the source will be disabled instead - this is only meaningful when used in conjunction with <code class="language-plaintext highlighter-rouge notranslate">all</code>. Consider using the <code class="language-plaintext highlighter-rouge notranslate">core.labelSources</code> config file option, instead, allowing dynamic configurability.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <code class="language-plaintext highlighter-rouge notranslate">core.labelSources</code> configuration file option.</p> </blockquote> <p>Default: all</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-label-sources</span><span class="o">=</span>kernel,system,local
</code></pre>  </div></div> <h3 id="-enable-nodefeature-api">-enable-nodefeature-api</h3> <blockquote> <p><strong>NOTE</strong> the gRPC API is deprecated and will be removed in a future release. and this flag will be removed as well.</p> </blockquote> <p>The <code class="language-plaintext highlighter-rouge notranslate">-enable-nodefeature-api</code> flag enables/disables the <a href="/node-feature-discovery/master/usage/custom-resources.html#nodefeature">NodeFeature</a> CRD API for communicating with nfd-master. When enabled nfd-worker creates per-node NodeFeature objects the contain all discovered node features and the set of feature labels to be created. Setting the flag to false will enable gRPC communication to nfd-master.</p> <p>Default: true</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-enable-nodefeature-api</span><span class="o">=</span><span class="nb">false</span>
</code></pre>  </div></div> <h3 id="-metrics">-metrics</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-metrics</code> flag specifies the port on which to expose <a href="https://prometheus.io/">Prometheus</a> metrics. Setting this to 0 disables the metrics server on nfd-worker.</p> <p>Default: 8081</p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-metrics</span><span class="o">=</span>12345
</code></pre>  </div></div> <h3 id="-no-publish">-no-publish</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-no-publish</code> flag disables all communication with the nfd-master and the Kubernetes API server. It is effectively a "dry-run" flag for nfd-worker. NFD-Worker runs feature detection normally, but no labeling requests are sent to nfd-master and no NodeFeature objects are created or updated in the API server.</p> <blockquote> <p><strong>NOTE:</strong> This flag takes precedence over the <a href="/node-feature-discovery/master/reference/worker-configuration-reference.html#corenopublish"><code class="language-plaintext highlighter-rouge notranslate">core.noPublish</code></a> configuration file option.</p> </blockquote> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-no-publish</span>
</code></pre>  </div></div> <h3 id="-oneshot">-oneshot</h3> <p>The <code class="language-plaintext highlighter-rouge notranslate">-oneshot</code> flag causes nfd-worker to exit after one pass of feature detection.</p> <p>Default: <em>false</em></p> <p>Example:</p> <div class="language-bash highlighter-rouge notranslate"><div class="highlight"><pre class="highlight"><code>nfd-worker <span class="nt">-oneshot</span> <span class="nt">-no-publish</span>
</code></pre>  </div></div> <h3 id="logging">Logging</h3> <p>The following logging-related flags are inherited from the <a href="https://pkg.go.dev/k8s.io/klog/v2">klog</a> package.</p> <blockquote> <p><strong>NOTE:</strong> The logger setup can also be specified via the <code class="language-plaintext highlighter-rouge notranslate">core.klog</code> configuration file options. However, the command line flags take precedence over any corresponding config file options specified.</p> </blockquote> <h4 id="-add_dir_header">-add_dir_header</h4> <p>If true, adds the file directory to the header of the log messages.</p> <p>Default: false</p> <h4 id="-alsologtostderr">-alsologtostderr</h4> <p>Log to standard error as well as files.</p> <p>Default: false</p> <h4 id="-log_backtrace_at">-log_backtrace_at</h4> <p>When logging hits line file:N, emit a stack trace.</p> <p>Default: <em>empty</em></p> <h4 id="-log_dir">-log_dir</h4> <p>If non-empty, write log files in this directory.</p> <p>Default: <em>empty</em></p> <h4 id="-log_file">-log_file</h4> <p>If non-empty, use this log file.</p> <p>Default: <em>empty</em></p> <h4 id="-log_file_max_size">-log_file_max_size</h4> <p>Defines the maximum size a log file can grow to. Unit is megabytes. If the value is 0, the maximum file size is unlimited.</p> <p>Default: 1800</p> <h4 id="-logtostderr">-logtostderr</h4> <p>Log to standard error instead of files</p> <p>Default: true</p> <h4 id="-skip_headers">-skip_headers</h4> <p>If true, avoid header prefixes in the log messages.</p> <p>Default: false</p> <h4 id="-skip_log_headers">-skip_log_headers</h4> <p>If true, avoid headers when opening log files.</p> <p>Default: false</p> <h4 id="-stderrthreshold">-stderrthreshold</h4> <p>Logs at or above this threshold go to stderr.</p> <p>Default: 2</p> <h4 id="-v">-v</h4> <p>Number for the log level verbosity.</p> <p>Default: 0</p> <h4 id="-vmodule">-vmodule</h4> <p>Comma-separated list of <code class="language-plaintext highlighter-rouge notranslate">pattern=N</code> settings for file-filtered logging.</p> <p>Default: <em>empty</em></p> </div> </div> <div class="navigation-bottom d-flex flex-justify-between py-3" role="navigation" aria-label="footer navigation"> <div class="prev"><a href="/node-feature-discovery/master/reference/master-commandline-reference.html" class="btn" title="Master cmdline reference" accesskey="p" rel="prev"> <i class="fa fa-arrow-circle-left"></i> Previous </a></div> <div class="next"><a href="/node-feature-discovery/master/reference/master-configuration-reference.html" class="btn" title="Master config reference" accesskey="n" rel="next"> Next <i class="fa fa-arrow-circle-right"></i> </a></div> </div><hr> <div class="copyright text-center text-gray" role="contentinfo"> <i class="fa fa-copyright"></i> <span class="time">2016-2024,</span> <a class="text-gray" href="https://github.com/kubernetes-sigs" rel="noreferrer" target="_blank">Kubernetes SIGs</a> Revision <a class="text-gray" href="https://github.com/kubernetes-sigs/node-feature-discovery/commit/" title="" rel="noreferrer" target="_blank"></a> <br> <div class="generator"> Built with <a href="https://pages.github.com" rel="noreferrer" target="_blank" title="github-pages v228">GitHub Pages</a> using a <a href="https://github.com/rundocs/jekyll-rtd-theme" rel="noreferrer" target="_blank" title="rundocs/jekyll-rtd-theme v2.0.10">theme</a> provided by <a href="https://rundocs.io" rel="noreferrer" target="_blank">RunDocs</a>. </div> </div> </div> </div> <div class="addons-wrap d-flex flex-column overflow-y-auto"> <div class="status d-flex flex-justify-between p-2"> <div class="title p-1"> <i class="fa fa-book"></i> Node Feature Discovery </div> <div class="branch p-1"> <span class="name"> master </span> <i class="fa fa-caret-down"></i> </div> </div> <div class="addons d-flex flex-column height-full p-2 d-none"> <dl id="versions"> <dt>Versions</dt> <script src="/node-feature-discovery/versions.js"></script> <script> var dt = document.getElementById('versions'); var items = getVersionListItems(); for (var i=0; i < items.length; i++) { var dd = document.createElement('dd'); var a = dd.appendChild(document.createElement('a')); a.appendChild(document.createTextNode(items[i].name)); a.href = items[i].url; dt.appendChild(dd); } </script> </dl> <dl> <dt>GitHub</dt> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery" title="Stars: 667"> <i class="fa fa-github"></i> Homepage </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/issues" title="Open issues: 32"> <i class="fa fa-question-circle-o"></i> Issues </a> </dd> <dd> <a href="https://github.com/kubernetes-sigs/node-feature-discovery/zipball/gh-pages" title="Size: 99097 Kb"> <i class="fa fa-download"></i> Download </a> </dd> </dl> <hr> <div class="license f6 pb-2"> This <a href="/node-feature-discovery/master/" title="Node Feature Discovery">Software</a> is under the terms of <a href="https://github.com/kubernetes-sigs/node-feature-discovery">Apache License 2.0</a>. </div> </div> </div> <script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/rundocs/jekyll-rtd-theme@2.0.10/assets/js/theme.min.js"></script> </body> </html>